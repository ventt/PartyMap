/* Map-specific global styles (pins, user location marker) */

/* Fancy place pin */
.pm-pin { position:relative; width:34px; height:44px; transform-origin:50% 90%; transition: transform .35s cubic-bezier(.4,.2,.2,1), filter .35s; }
.pm-pin-head { position:absolute; top:0; left:50%; transform:translateX(-50%); width:28px; height:28px; border-radius:50%; background:radial-gradient(circle at 30% 30%, #fff8, color-mix(in srgb, var(--pin) 85%, #000) 55%, #000 90%); box-shadow:0 2px 4px -1px #000a, 0 0 0 1px #000 inset, 0 0 10px -2px var(--pin); overflow:hidden; }
.pm-pin-core { position:absolute; inset:0; border-radius:50%; background:radial-gradient(circle at 60% 40%, color-mix(in srgb, var(--pin) 65%, #fff) 0, var(--pin) 55%, #000 100%); mix-blend-mode:screen; opacity:.85; }
.pm-pin-gloss { position:absolute; top:2px; left:5px; width:10px; height:14px; background:linear-gradient(140deg, #fff9, #ffffff05); border-radius:50%; filter:blur(.5px); }
.pm-pin-tail { position:absolute; bottom:0; left:50%; transform:translateX(-50%); width:12px; height:20px; background:linear-gradient(180deg, var(--pin), color-mix(in srgb, var(--pin) 40%, #000)); clip-path:polygon(50% 0, 100% 20%, 70% 100%, 30% 100%, 0 20%); filter:drop-shadow(0 3px 3px #0008); }
.pm-pin::after { content:''; position:absolute; bottom:-4px; left:50%; transform:translateX(-50%); width:22px; height:6px; background:radial-gradient(circle at 50% 50%, #0006, #0000 70%); }
.pm-pin-sparkles { position:absolute; inset:0; pointer-events:none; }
.pm-pin-sparkles .sp { position:absolute; width:4px; height:4px; background:radial-gradient(circle,#fff,#fff0); border-radius:50%; opacity:0; }
.pm-pin.pm-shiny .pm-pin-sparkles .sp { animation: pm-spark 2.4s linear infinite; }
.pm-pin-sparkles .s1 { top:6px; left:6px; animation-delay:.2s; }
.pm-pin-sparkles .s2 { top:10px; right:6px; animation-delay:1.1s; }
.pm-pin-sparkles .s3 { bottom:6px; left:12px; animation-delay:1.8s; }
@keyframes pm-spark { 0% { transform:scale(.4) rotate(0deg); opacity:0; } 10% { opacity:1; transform:scale(1) rotate(45deg); } 35% { opacity:.9; } 60% { opacity:0; transform:scale(.3) rotate(90deg);} 100% { opacity:0; } }
.pm-pin.pm-shiny { transform:translateY(-3px) scale(1.08); filter:drop-shadow(0 0 6px var(--pin)) drop-shadow(0 0 18px color-mix(in srgb, var(--pin) 60%, transparent)); }
.pm-pin.pm-shiny .pm-pin-head { box-shadow:0 0 0 1px #000, 0 0 12px -2px var(--pin), 0 0 28px -4px var(--pin); }
/* Pulse ring */
.pm-pin.pm-shiny .pm-pin-head::after { content:''; position:absolute; inset:-4px; border:2px solid color-mix(in srgb, var(--pin) 70%, #fff); border-radius:50%; opacity:0; animation: pm-pulse 2.2s ease-out infinite; }
@keyframes pm-pulse { 0% { transform:scale(.5); opacity:.8; } 60% { opacity:0; } 100% { transform:scale(1.4); opacity:0; } }
/* Reduced motion */
@media (prefers-reduced-motion: reduce) { .pm-pin.pm-shiny { animation:none; } .pm-pin.pm-shiny .pm-pin-head::after, .pm-pin.pm-shiny .pm-pin-sparkles .sp { animation:none; opacity:.4; } }

/* You-are-here marker: fancy animated ring + ripples */
.pm-you { position:relative; width:24px; height:24px; border-radius:50%; pointer-events:none; }
.pm-you .core { position:absolute; inset:6px; border-radius:50%; background: radial-gradient(circle at 35% 35%, #ffffff, #93c5fd 45%, #3b82f6 80%); box-shadow: 0 0 0 2px #fff, 0 4px 16px #3b82f6cc; }
.pm-you .ring { position:absolute; inset:2px; border-radius:50%; background: conic-gradient(from 0deg, #60a5fa, #a78bfa, #f472b6, #60a5fa); filter: blur(0.5px) saturate(1.1); opacity:.9; animation: pm-you-rotate 6s linear infinite; mask: radial-gradient(circle, transparent 62%, black 63%); -webkit-mask: radial-gradient(circle, transparent 62%, black 63%); }
.pm-you .glow { position:absolute; inset:-8px; border-radius:50%; background: radial-gradient(circle, #60a5fa55, #60a5fa00 60%); filter: blur(6px); }
.pm-you .wave { position:absolute; inset:-2px; border-radius:50%; border:2px solid #60a5fa; opacity:0; }
.pm-you .w1 { animation: pm-you-wave 2.4s ease-out infinite; }
.pm-you .w2 { animation: pm-you-wave 2.4s ease-out 1.2s infinite; }
@keyframes pm-you-wave { 0% { transform:scale(.5); opacity:.8; } 70% { opacity:0; } 100% { transform:scale(1.7); opacity:0; } }
@keyframes pm-you-rotate { to { transform: rotate(360deg); } }

/* Floating place/event labels */
.pm-label { font-family: system-ui, ui-sans-serif, 'Inter', sans-serif; }
.pm-line-clamp-2 { display:-webkit-box; -webkit-line-clamp:2; line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
